<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    


</head>
<body>
    
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">
    <img src="img/loadimg.jpg" data-src="img/1.jpg" img-optimized="200" width="200px"  alt="1.jpg">
    <img src="img/loadimg.jpg" data-src="img/2.jpg" img-optimized="200" width="200px"  alt="2.jpg">
    <img src="img/loadimg.jpg" data-src="img/3.jpg" img-optimized="200" width="200px"  alt="3.jpg">
    <img src="img/loadimg.jpg" data-src="img/4.jpg" img-optimized="200" width="200px"  alt="4.jpg">
    <img src="img/loadimg.jpg" data-src="img/5.jpg" img-optimized="200" width="200px"  alt="5.jpg">
    <img src="img/loadimg.jpg" data-src="img/6.jpg" img-optimized="200" width="200px"  alt="6.jpg">
    <img src="img/loadimg.jpg" data-src="img/7.jpg" img-optimized="200" width="200px"  alt="7.jpg">
    <img src="img/loadimg.jpg" data-src="img/8.jpg" img-optimized="200" width="200px"  alt="8.jpg">
    <img src="img/loadimg.jpg" data-src="img/9.jpg" img-optimized="200" width="200px"  alt="9.jpg">
    <img src="img/loadimg.jpg" data-src="img/10.jpg" img-optimized="200" width="200px"  alt="10.jpg">
    <img src="img/loadimg.jpg" data-src="img/11.jpg" img-optimized="200" width="200px"  alt="11.jpg">
    <img src="img/loadimg.jpg" data-src="img/12.jpg" img-optimized="200" width="200px"  alt="12.jpg">
    <img src="img/loadimg.jpg" data-src="img/13.jpg" img-optimized="200" width="200px"  alt="13.jpg">
    <img src="img/loadimg.jpg" data-src="img/14.jpg" img-optimized="200" width="200px"  alt="14.jpg">
    <img src="img/loadimg.jpg" data-src="img/15.jpg" img-optimized="200" width="200px"  alt="15.jpg">
    <img src="img/loadimg.jpg" data-src="img/16.jpg" img-optimized="200" width="200px"  alt="16.jpg">
    <img src="img/loadimg.jpg" data-src="img/17.jpg" img-optimized="200" width="200px"  alt="17.jpg">
    <img src="img/loadimg.jpg" data-src="img/18.jpg" img-optimized="200" width="200px"  alt="18.jpg">
    <img src="img/loadimg.jpg" data-src="img/19.jpg" img-optimized="200" width="200px"  alt="19.jpg">
    <img src="img/loadimg.jpg" data-src="img/20.jpg" img-optimized="200" width="200px"  alt="20.jpg">


    <script>


         var img = document.querySelectorAll('img[img-optimized]');

        // function getDataUrl(imgurl) {
        //     // Create canvas
        //     const canvas = document.createElement('canvas');
        //     const ctx = canvas.getContext('2d');
        //     // Set width and height
        //     var mainimg  = new Image();
        //     mainimg.src = imgurl;
        //     console.log(mainimg)
        //     canvas.width = mainimg.width;
        //     canvas.height = mainimg.height;
        //     // Draw the image
        //     ctx.drawImage(mainimg, 0, 0);
        //     return canvas.toDataURL();
        // }
        // img.forEach((selectedimg)=>{
        //     const dataUrl = getDataUrl(selectedimg.getAttribute('data-src'));
        //     console.log(dataUrl);
        //     selectedimg.src = dataUrl;
        // })


        function imageToUri(url, callback) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');

            var base_image = new Image();
            base_image.src = url;
            base_image.onload = function() {
                // canvas.width = base_image.width;
                // canvas.height = base_image.height;
                base_image.width = 200;
                canvas.width = 300;
                canvas.height = 300;

                ctx.drawImage(base_image, 0, 0,300,300);
            
                callback(canvas.toDataURL('image/png'));

                canvas.remove();
            }
        }

        img.forEach((selectedimg)=>{
            imageToUri(selectedimg.getAttribute('data-src'), function(uri) {
            console.log(uri);
            selectedimg.src = uri;
        });
        });
        
    </script>
</body>
</html>